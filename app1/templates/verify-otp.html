{% load static %}
<!DOCTYPE html>
<html lang="en">

<head>
    <title>Verify OTP</title>
    <!-- HTML5 shim and Respond.js for IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
	<script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
	<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
	<![endif]-->


    <!-- Meta -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1.0, user-scalable=no">
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="description" content="codedthemes">
    <meta name="keywords"
        content=", Responsive, Landing, Bootstrap, App, Template, Mobile, iOS, Android, apple, creative app">
    <meta name="author" content="codedthemes">

    <!-- Favicon icon -->
    <link rel="shortcut icon" href="{% static 'images/favicon.png' %}" type="image/x-icon">
    <link rel="icon" href="{% static 'images/favicon.ico' %}" type="image/x-icon">

    <!-- Google font-->
    <link href="https://fonts.googleapis.com/css?family=Ubuntu:400,500,700" rel="stylesheet">

    <!-- Font Awesome -->
    <link href="{% static 'css/font-awesome.min.css' %}" rel="stylesheet" type="text/css">

    <!--ico Fonts-->
    <link rel="stylesheet" type="text/css" href="{% static 'icon/icofont/css/icofont.css' %}">

    <!-- Required Fremwork -->
    <link rel="stylesheet" type="text/css" href="{% static 'plugins/bootstrap/css/bootstrap.min.css' %}">

    <!-- waves css -->
    <link rel="stylesheet" type="text/css" href="{% static 'plugins/Waves/waves.min.css' %}">

    <!-- Style.css -->
    <link rel="stylesheet" type="text/css" href="{% static 'css/main.css' %}">

    <!-- Responsive.css-->
    <link rel="stylesheet" type="text/css" href="{% static 'css/responsive.css' %}">

    <!--color css-->
    <link rel="stylesheet" type="text/css" href="{% static 'css/color/color-1.min.css' %}" id="color" />
</head>

<body>
    <section class="login p-fixed d-flex text-center bg-primary common-img-bg">
        <!-- Container-fluid starts -->
        <div class="container-fluid">
            <div class="row">

                <div class="col-sm-12">
                    <div class="login-card card-block" id="app">
                        <form class="md-float-material" action="{% url 'otp' %}" method="post" id="otpfm">
                            {% csrf_token %}
                            <div class="text-center" style="color:#f57c00; font-size:170%;">
                                <img src="{% static 'images/favicon.png' %}" alt="logo"> Register
                            </div>
                            <h5 class="text-center txt-primary"><br><br>Please enter the OTP sent to your<br>entered
                                email address</h5>
                            <br>
                            <div class="md-input-wrapper" id="otp">
                                <input type="text" class="md-form-control text-center" id="input" name="uotp"
                                    maxlength="4" style="letter-spacing: 0.5cm;" autofocus required>
                                <input type="hidden" name="otp" value="{{otp}}">
                                <label>Verify OTP</label>
                            </div>
                            <br>
                            <div class="col-xs-10 offset-xs-1">
                                <a href="login" class="f-w-600 p-l-5" style="font-size: 100%; color: aliceblue;">
                                    <button type="submit" id="ver"
                                        class="btn btn-primary btn-md btn-block waves-effect waves-light m-b-20">
                                        Register
                                    </button>
                                </a>
                            </div>
                        </form>
                        <!-- end of form -->
                    </div>
                    <!-- end of login-card -->
                </div>
                <!-- end of col-sm-12 -->
            </div>
            <!-- end of row -->
        </div>
        <!-- end of container-fluid -->
    </section>


    <!-- Required Jqurey -->
    <script src="{% static '/plugins/jquery/dist/jquery.min.js' %}"></script>
    <script src="{% static '/plugins/jquery-ui/jquery-ui.min.js' %}"></script>
    <script src="{% static '/plugins/tether/dist/js/tether.min.js' %}"></script>

    <!-- Required Fremwork -->
    <script src="{% static '/plugins/bootstrap/js/bootstrap.min.js' %}"></script>

    <!-- waves effects.js -->
    <script src="{% static '/plugins/Waves/waves.min.js' %}"></script>
    <!-- Custom js -->
    <script type="text/javascript" src="{% static '/pages/elements.js' %}"></script>

    <!-- //////////////////////////////////////////////////////////// -->
    <script type='text/javascript'
        src='https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js'></script>
    <script type='text/Javascript'>var app = new Vue({
        el: '#app',
        methods:{
        inputenter(id){

        const inputs = document.querySelectorAll('#otp > *[id]');
        for (let i = 0; i < inputs.length; i++){
            inputs[i].addEventListener('keydown', function(event){
                if (event.key==="Backspace" ){
                    inputs[i].value='';
                    if (i !==0) inputs[i - 1].focus();
                }
                else{
                    if (i===inputs.length - 1 && inputs[i].value !=='' ){
                        return true;
                    }
                    else if (event.keyCode> 47 && event.keyCode < 58){
                        inputs[i].value=event.key;
                        if (i !==inputs.length - 1) inputs[i + 1].focus();
                        event.preventDefault();
                    }
                    else if (event.keyCode> 64 && event.keyCode < 91){
                        inputs[i].value=String.fromCharCode(event.keyCode);
                        if (i !==inputs.length - 1) inputs[i + 1].focus();
                        event.preventDefault();
                    }
                }
            });
        }
        }
        }
    });
    </script>
    <!-- //////////////////////////////////////////////////////////// -->

</body>

</html>